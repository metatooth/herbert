- hosts: kiosks

  vars:
    - service_description: 'Herbert kiosk service'
    - service_user: root
    - service_file: dist/worker/main.js

  tasks:
    - name: Install System Dependencies
      become: yes
      apt: name={{ item }} update_cache=yes state=latest
      with_items:
        - xserver-xorg
        - xinit
        - x11-xserver-utils
        - chromium-browser
        - matchbox-window-manager
        - xautomation
        - unclutter

    - name: Create {{ appDir }}
      file:
        path: '{{ appDir }}'
        state: directory

    - name: Sync Herbert scripts
      synchronize:
        src: '{{ srcDir }}/scripts'
        dest: '{{ appDir }}'
        recursive: yes
        delete: yes

